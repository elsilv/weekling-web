{"version":3,"sources":["weekling_logo_1.png","index.js"],"names":["App","useState","status","setStatus","timesArray","daysArray","checkColor","event","box","target","cont","parentNode","checked","style","backgroundColor","window","onload","maara","i","paiva","document","getElementById","dayNow","Date","now","getDay","toString","j","checkCont","createElement","className","id","appendChild","check","x","type","addEventListener","createChecks","$","each","divId","this","parent","attr","on","find","prop","css","search","location","eventName","URLSearchParams","get","charset","href","src","logo","alt","onClick","class","inputElements","getElementsByClassName","suitableTimes","makeDate","boolean","length","z","split","y","trimLeft","c","setDate","setHours","setMinutes","setSeconds","setMonth","setMilliseconds","console","log","push","notyf","Notyf","error","success","axios","put","times","then","response","data","setTimeout","reload","ReactDOM","render"],"mappings":"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","file":"static/js/main.6fdd3513.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/weekling_logo_1.614b898b.png\";","import React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport axios from 'axios'\nimport './pohja.css';\nimport logo from './weekling_logo_1.png';\nimport { Notyf } from 'notyf';\nimport 'notyf/notyf.min.css';\nimport $ from \"jquery\"\n\nconst App = () => {\n\n    const [status, setStatus] = useState(true)\n\n    // Taulukko mahdollisista kellonajoista\n    var timesArray = [\n        ['08'],\n        ['09'],\n        ['10'],\n        ['11'],\n        ['12'],\n        ['13'],\n        ['14'],\n        ['15'],\n        ['16'],\n        ['17'],\n        ['18'],\n        ['19']\n    ]\n\n    // Taulukko päivistä, maanantai on 01, tiistai 02, jne.\n    var daysArray = [\n        ['00'],\n        ['01'],\n        ['02'],\n        ['03'],\n        ['04'],\n        ['05'],\n        ['06'],\n        ['07'],\n        ['00']\n    ]\n\n    // Uusien aikojen lisääminen\n    const handleSubmit = () => {\n        var inputElements = document.getElementsByClassName('check')\n        var suitableTimes = []\n\n        const search = window.location.search;\n        const params = new URLSearchParams(search)\n        const id = params.get('id')\n\n        function makeDate(boolean) {\n            for (var i = 0; i < inputElements.length; ++i) {\n                if (inputElements[i].checked == boolean) {\n                    var z = (inputElements[i].id).split(',')\n                    var x = z[0]\n                    var y = z[1].trimLeft()\n\n                    // Luodaan tietojen pohjalta uusi Date()\n                    var c = new Date()\n                    c.setDate(daysArray[x].toString())\n                    c.setHours(timesArray[y].toString())\n                    c.setMinutes(0)\n                    c.setSeconds(0)\n                    c.setMonth(0)\n                    c.setMilliseconds(0)\n                    console.log(c)\n\n                    suitableTimes.push(c)\n                }\n            }\n        }\n\n        if (status == false) { makeDate(false) }\n        else { makeDate(true) }\n\n        // Notifikaatiot lisäyksen onnistumisesta ja epäonnistumisesta\n        const notyf = new Notyf()\n        if (id == null || id.length != 24) { notyf.error('Id is wrong') }\n        if (suitableTimes.length === 0) { notyf.error('Please, select some times before submitting') }\n\n        else {\n            notyf.success('Success!')\n            axios.put('/', {\n                times: suitableTimes,\n                id: id\n            })\n                .then((response) => {\n                    console.log(response.data)\n                }, (error) => {\n                    console.log(error.response)\n                })\n\n            setTimeout(function () { window.location.reload() }, 3000)\n        }\n    }\n\n    window.onload = function () {\n        createChecks(12)\n        addDayClick()\n    }\n\n    function checkColor(event) {\n        var box = event.target\n        var cont = box.parentNode\n        if (box.checked) {\n            cont.style.backgroundColor = '#c3a41e'\n        }\n        else {\n            cont.style.backgroundColor = '#292929'\n        }\n    }\n\n    function addDayClick() {\n        $('.dayName').each(function () {\n            var divId = $(this).parent().attr('id')\n            var parentDiv = $('#' + divId)\n\n            $(this).on(\"click\", function () {\n                $('#' + divId).find(':checkbox').each(function () {\n                    $(this).prop('checked', true)\n                    $(this).parent().css('background-color', '#c3a41e')\n                })\n            })\n        })\n    }\n\n    function checkColour(checkId, contId, x) {\n        if (document.getElementById(checkId).checked) {\n            console.log(\"klikattu\")\n            document.getElementById(contId).style.backgroundColor = '#000000'\n        }\n        else {\n            document.getElementById(contId).style.backgroundColor = \"FFFFFF\"\n        }\n    }\n\n    function checkBoxes(divId) {\n        $('#' + divId).find(':checkbox').each(function () {\n            $(this).prop('checked', true)\n        })\n    }\n\n    function selectAll() {\n        $('#kalenteri').find(':checkbox').each(function () {\n            $(this).prop('checked', true)\n            $(this).parent().css('background-color', '#c3a41e')\n        })\n    }\n\n    function unselectAll() {\n        $('#kalenteri').find(':checkbox').each(function () {\n            $(this).prop('checked', false)\n            $(this).parent().css('background-color', '#292929')\n        })\n    }\n\n    function createChecks(maara) {\n        for (let i = 1; i <= 7; i++) {\n            var paiva = document.getElementById(i)\n            var dayNow = new Date(Date.now()).getDay().toString()\n            if (dayNow == 0) { document.getElementById(7).style.backgroundColor = '#c3a41e' }\n            if (dayNow == i) {\n                document.getElementById(i).style.backgroundColor = '#c3a41e'\n            }\n\n            for (let j = 0; j < maara; j++) {\n                let checkCont = document.createElement(\"div\")\n                checkCont.className = \"checkcontainer\"\n                checkCont.id = 'checkCont' + i + j\n                checkCont.style.backgroundColor = '#292929'\n                paiva.appendChild(checkCont)\n\n                let check = document.createElement('input')\n                checkCont.appendChild(check)\n                check.className = 'check'\n                var x = `${i}, ${j}` // määritellään id\n                check.id = x\n                check.type = 'checkbox'\n                check.addEventListener('change', checkColor, false)\n            }\n        }\n    }\n\n    const search = window.location.search;\n    const params = new URLSearchParams(search)\n    const eventName = params.get('event')\n\n    return (\n        <html>\n            <head>\n                <meta charset=\"UTF-8\" />\n                <link type=\"text/css\" href=\"pohja.css\" />\n            </head>\n            <body id=\"vartalo\">\n                <div id=\"headerContainer\">\n                    <img src={`${logo}`} alt=\"logo\" />\n                    <div id=\"otsikko\"> <h3>{ `${eventName}` }</h3> </div>\n                </div>\n                <div id=\"header\"></div>\n                <div id=\"instructions\">\n                    <p id=\"instructions-text\">Please select available times and press Send.<br></br>\n                    You can choose an entire day by clicking on the name, or change the input mode with\n                                              the dropdown box above the calendar.</p>\n                </div>\n\n                <div id=\"buttons\">\n                    <button onClick={ () => setStatus(!status) }>{ status ? 'Add available times' : 'Add non-available times' }</button>\n                    <div id=\"selectButtonDiv\">\n                        <button id=\"selectButton\" onClick={selectAll}>\n                            <div id=\"selectButtonText\">Select all</div>\n                        </button>\n\n                        <button id=\"unselectButton\" onClick={unselectAll}>\n                            <div id=\"unselectButtonText\">Unselect all</div>\n                        </button>\n                    </div>\n                </div>\n\n                <div id=\"kalenteri\">\n                    <aside class=\"sivu\">\n                        <ul class=\"left\">\n                            <li class=\"ajat\">\n                                <label className=\"ajatLabel\">Times\n                            <div class=\"time\">\n                                        <p class=\"teksti\">8-9</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">9-10</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">10-11</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">11-12</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">12-13</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">13-14</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">14-15</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">15-16</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">16-17</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">17-18</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">18-19</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">19-20</p>\n                                    </div>\n                                </label>\n                            </li>\n                        </ul>\n                    </aside>\n                    <ul class=\"k\">\n                        <li class=\"date\">\n                            <div class=\"group\" id='1'>\n                                <div class=\"dayName\">Monday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='2' >\n                                <div class=\"dayName\">Tuesday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='3' >\n                                <div class=\"dayName\">Wednesday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='4'>\n                                <div class=\"dayName\">Thursday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='5'>\n                                <div class=\"dayName\">Friday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='6'>\n                                <div class=\"dayName\">Saturday</div>\n                            </div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='7'>\n                                <div class=\"dayName\">Sunday</div>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n\n                <div id=\"buttondiv\">\n                    <button id=\"sendButton\" onClick={handleSubmit}>\n                        <div id=\"buttonText\">Send</div>\n                    </button>\n                </div>\n\n            </body>\n        </html>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}